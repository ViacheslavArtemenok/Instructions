
# Часто используемые команды Git

![Логотип Git][Изображение_логотипа]

## 1. Настройка Git
Посмотреть версию git:
```
git version
```
Задать имя пользователя:
```
git config --global user.name "Ivan Ivanov"
```
Задать адрес электронной почты:
```
git config --global user.email "dev@gmail.com"
```

## 2. Создание репозитория
Создать локальный репозиторий в текущей папке:
```
git init
```
Клонировать удаленный репозиторий в текущую папку:
```
git clone https://github.com/SomeAuthor/Test.git
```
Связать локальный и удаленный репозиторий:
```
git remote add origin https://github.com/SomeAuthor/Test.git
```
Посмотреть связь и URL-адрес:
```
git remote -v
```
## 3. Работа с файлами
Проверка статуса репозитория:
```
git status
```
Добавить все файлы из папки в индекс:
```
git add ./
```
Отменить изменения в файле file.txt:
```
git checkout file.txt
```
Удалить из списка индексируемых файлов file.txt:
```
git rm --cached file.txt
```
Отмена подготовленных изменений file.txt:
```
git reset HEAD file.txt
```
## 4. Работа с коммитами
Сделать коммит:
```
git commit -am "Your commit"
```
Внести в коммит поправки без изменения сообщения коммита и сохранить в текущий коммит:
```
git commit -a --amend --no-edit
```
Откат последнего коммита без его удаления (создает новый коммит с отменой нужных действий):
```
git revert
```
Откат последующих после 1af17e коммитов без их удаления (создает новый коммит с отменой нужных действий):
```
git revert 1af17e
```

Возьмем для примера ветку: ``- 1af17e - 2af17e - 3af17e (master)``

HEAD указывает на коммит ``3af17e`` и индекс совпадает с ``3af17e``.

Откат до коммита ``2af17e``, изменения из коммита ``3af17e`` остаются в индексе, локально файлы без изменений:
```
git reset --soft ``2af17e``
```
Откат до коммита ``2af17e``, изменения из коммита ``3af17e`` вне индекса, локально файлы без изменений:
```
git reset (--mixed) ``2af17e``
```
Откат до коммита ``2af17e``, изменения из коммита ``3af17e`` вне индекса, локально файлы изменяются/удаляются до состояния ``2af17e``:
```
git reset --hard ``2af17e``
```
Откат до предпоследнего коммита, остально согласно флагу (--soft, --mixed, --hard):
```
git reset (--soft, --mixed, --hard)
```

## 5. Работа с локальными ветками

Просмотр списка веток:
```
git branch
```
Посмотреть изменения всех веток:
```
git log --oneline --all --graph
```
Создание новой ветки "dev":
```
git branch dev
```
Создание новой ветки "dev" и переход в неё:
```
git checkout -b dev
```
Выбрать ветку dev в локальном репозитории:
```
git checkout dev
```
Удалить ветку dev:
```
git branch -d dev
```
Удалить ветку dev принудильно при наличии неслитых коммитов:
```
git branch -D dev
```
Слить текущую ветку с веткой dev:
```
git merge dev
```
Прервать слияние веток в случае конфликта:
```
git merge --abort
```
Слить текущую ветку с веткой dev, эта команда изменит основу ветки с одного коммита на другой:
```
git rebase dev
```
## 6. Работа с удаленными ветками
Отправка изменений в удалённый репозиторий по умолчанию в main:
```
git push 
```
Перезаписать историю коммитов в удаленном репозитории:
```
git push --force
```
Отправка изменений в удалённый репозиторий с указанием ветки "dev":
```
git push origin dev
```
Отправка новой локальной ветки "dev" в удалённый репозиторий при отсутствии ее удаленного экземпляра:
```
git push --set-upstream origin dev
```
Удаление ветки "dev" в удалённом репозитории:
```
git push --delete origin dev
```
Подтянуть изменения из удаленного репозитория в локальный и слить коммиты удаленной ветки с коммитами локальной:
```
git pull
```
Подтянуть изменения из удаленного репозитория в локальный, но без слияния коммитов удаленной и локальной ветки:
```
git fetch
```
* для слияния свежих коммитов из удаленной ветки с локальной нужно выполнить отдельно ``git merge``

## 7. Работа с тэгами, версионирование
Посмотреть список тэгов:
```
git tag --list
```
Добавить тэг 1.0 к коммиту:
```
git tag 1.0
```
Отправить тэг в удаленный репозиторий:
```
git push --tags
```
Удалить с данного коммита версию тэга:
```
git tag -d 1.0
```
Удалить тэг из удаленного репозитория:
```
git push --delete origin 1.0
```

## 8. Работа с временным хранилищем stash
Сохранить изменения во временное хранилище:
```
git stash
```
Посмотреть список stash-коммитов:
```
git stash list
```
Добавить file1.txt в существующий стэш:
```
git stash push file1.txt
```
Развернуть стэш stash@{1} на текущей ветке:
```
git stash pop stash@{1}
```
## 9. Слияние с объединением коммитов
Merge в ветку master ветки dev, коммиты из dev объединяются в один:
```
git merge dev --squash
```
## 10. Перенос коммитов с ветки на ветку
Перенести определенный коммит (например 1af17e) на текущую ветку:
```
git cherry-pick 1af17e
```
Перенести последний коммит c ветки dev на текущую ветку:
```
git cherry-pick dev
```
Перенести все коммиты с ветки dev на текущую ветку:
```
git cherry-pick ..dev
```

[Изображение_логотипа]: img/git_logo.png
